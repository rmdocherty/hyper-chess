<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="styles.css">
    <title>Hyperchess</title>
    <link rel="icon" type="image/x-icon" href="/assets/favicon.png">
</head>

<body>


<script>
    var exports = {};
    function require(){};
    function copy_text(){
        const inviteText = document.getElementById("inviteText")
        inviteText.select()
        inviteText.setSelectionRange(0, 99999)
        navigator.clipboard.writeText(inviteText.value)
    }
    function quit(){
        localStorage.removeItem("current_game")
        window.location.href = "/index.html"
    }
</script>


<div id="container" class="centeredContainer">
    <canvas id="gameBoard" onload="canvasLoad()" height="800" width="600"></canvas>
</div>

<div id="inviteModal" class="modal">
    <div class="modal-content">
        <p>Send this link to your friend to play:</p>
        <input id="inviteText" readonly="readonly" size="35" style='font-size: 18px;'></input>&nbsp&nbsp<button onclick="copy_text()">Copy</button>
        <p>The game will start when they join via the link.</p>
    </div>
</div>

<div id="winModal" class="modal">
    <div class="modal-content">
        <span id="winText">Default</span> wins! &nbsp&nbsp<button onclick="quit()" style='font-size: 18px;'>Home</button>
    </div>
</div>

<div id="mySidenav" class = "sidenav">
    <div>
        <button id="closebtn" style='font-size: 18px; border: none;'>X</button>
    </div>
    <div>
        Palette:
        <select onchange="paletteSelect()" id="palette_select" class="dropdown">
            <option value="classic">Classic</option>
            <option value="vapor">Vapour</option>
            <option value="mono">Mono</option>
        </select>
    </div>
    
    <div class=builder>
        Mode: 
        <select id="build_mode_select" class="builder">
            <option value="square">Square</option>
            <option value="loop">Loop</option>
            <option value="pair">Pair</option>
            <option value="piece">Piece</option>
            <option value="delete">Delete</option>
        </select>
    </div>
    <div class=builder id="loop_type_div", style="display: none">
        Loop type: 
        <select onchange="loopTypeSelect()" id="loop_type_select" class="builder">
            <option value="a">Arch</option>
            <option value="l">Line</option>
        </select>
    </div>
    <div class=builder id="piece_type_div", style="display: none">
        Piece: 
        <select id="piece_type_select" class="builder">
            <option value="p">Pawn</option>
            <option value="r">Rook</option>
            <option value="n">Knight</option>
            <option value="b">Bishop</option>
            <option value="q">Queen</option>
            <option value="k">King</option>
        </select>
    </div>
    <div class=builder id="piece_col_div", style="display: none">
        Colour: 
        <select id="piece_col_select" class="builder">
            <option value="white">White</option>
            <option value="black">Black</option>
        </select>
    </div>
    <div class=builder>
        <button style='font-size: 18px;' id="savebtn">Save</button>
    </div>
    <div class=builder>
        <button style='font-size: 18px;' id="downloadbtn">Download</button>
    </div>
    <div>
        <button onclick="quit()" style='font-size: 18px;'>Quit</button>
    </div>
</div>



<script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js' //'https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js'
    const firebaseConfig = {
        apiKey: "AIzaSyA1K6oQxEkWvD5b2rUP0rJCsm6Sa00PKMc",
        authDomain: "hype-chess.firebaseapp.com",
        projectId: "hype-chess",
        storageBucket: "hype-chess.appspot.com",
        messagingSenderId: "871227429033",
        appId: "1:871227429033:web:4ce9e9b1460199472dd9b8"
        };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);//#endregion

    
</script>



<script src="chess-bundle.js"></script>

</body>
</html>